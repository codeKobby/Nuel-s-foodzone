@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 4 79% 48%; /* Red from logo */
    --primary-foreground: 0 0% 100%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 140 70% 35%; /* Green from logo */
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 4 79% 48%;
    --chart-1: 0 84% 60%;
    --chart-2: 24 100% 50%;
    --chart-3: 48 96% 50%;
    --chart-4: 190 84% 60%;
    --chart-5: 320 84% 60%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    --primary: 4 79% 52%; /* Red from logo - slightly lighter for dark mode */
    --primary-foreground: 0 0% 100%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 140 70% 40%; /* Green from logo - slightly lighter for dark mode */
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 4 79% 52%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  /* Use dvh (dynamic viewport height) for iOS Safari address bar changes */
  html,
  body {
    height: 100%;
    min-height: 100dvh;
    /* Prevent pull-to-refresh on iOS */
    overscroll-behavior-y: contain;
  }

  body {
    @apply bg-background text-foreground;
  }

  /* iOS Safari momentum scrolling */
  .scroll-container {
    -webkit-overflow-scrolling: touch;
  }

  /* Hide scrollbars but allow scrolling */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Safe area insets for iOS notch/home indicator */
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
  .safe-top {
    padding-top: env(safe-area-inset-top, 0);
  }
}

/* Styles for react-markdown */
.markdown-content {
  @apply text-sm space-y-3;
}
.markdown-content h1,
.markdown-content h2,
.markdown-content h3 {
  @apply font-bold;
}
.markdown-content h1 {
  @apply text-2xl;
}
.markdown-content h2 {
  @apply text-xl;
}
.markdown-content h3 {
  @apply text-lg;
}
.markdown-content a {
  @apply text-primary underline;
}
.markdown-content ul,
.markdown-content ol {
  @apply list-inside list-disc pl-4;
}
.markdown-content ol {
  @apply list-decimal;
}
.markdown-content table {
  @apply w-full my-2 border-collapse border border-border;
}
.markdown-content th,
.markdown-content td {
  @apply border border-border px-2 py-1;
}
.markdown-content th {
  @apply bg-muted font-semibold;
}
.dark .markdown-content th {
  @apply bg-secondary;
}

/* Enhanced overflow handling utilities */
.overflow-wrap-anywhere {
  overflow-wrap: anywhere;
}

/* Improved responsive grid utilities */
.responsive-grid {
  @apply grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
}

/* Better card hover states */
.interactive-card {
  @apply transition-all duration-200 hover:shadow-md hover:border-primary/30 active:scale-[0.98];
}

/* Consistent section padding */
.section-padding {
  @apply px-3 py-3 md:px-4 md:py-4 lg:px-6 lg:py-5;
}

/* Improved focus states for accessibility */
.focus-ring {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
}

/* Sticky header pattern */
.sticky-header {
  @apply sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60;
}

/* Flex container with proper overflow */
.flex-container {
  @apply flex flex-col h-full overflow-hidden;
}

/* Scrollable content area */
.scroll-content {
  @apply flex-1 overflow-y-auto overflow-x-hidden;
}

/* Fixed bottom action bar for mobile */
.mobile-action-bar {
  @apply fixed bottom-0 left-0 right-0 z-50 bg-card border-t p-3 safe-bottom;
}

/* Touch-friendly button sizes */
.touch-target {
  @apply min-h-[44px] min-w-[44px];
}

/* Responsive text utilities */
.text-responsive {
  @apply text-sm md:text-base;
}

.text-responsive-lg {
  @apply text-base md:text-lg lg:text-xl;
}

.text-responsive-xl {
  @apply text-lg md:text-xl lg:text-2xl;
}

/* Card grid with responsive gaps */
.card-grid {
  @apply grid gap-2 sm:gap-3 md:gap-4;
}

/* Improved table scrolling on mobile */
.table-scroll {
  @apply overflow-x-auto -mx-3 px-3 md:mx-0 md:px-0;
}

/* Better modal sizing */
.modal-responsive {
  @apply w-[95vw] max-w-lg sm:max-w-xl md:max-w-2xl;
}

/* Consistent badge sizing */
.badge-sm {
  @apply text-[10px] px-1.5 py-0.5;
}

/* Loading overlay */
.loading-overlay {
  @apply absolute inset-0 flex items-center justify-center bg-background/80 backdrop-blur-sm z-50;
}
